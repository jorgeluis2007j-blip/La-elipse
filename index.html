
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elipse - Página Interactiva con Cuestionario</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        /* Estilos para las pestañas */
        .tabs {
            display: flex;
            flex-wrap: wrap;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px 10px 0 0;
            overflow: hidden;
            margin-bottom: 0;
        }
        
        .tab {
            padding: 15px 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            text-align: center;
            flex: 1;
            min-width: 120px;
            border-bottom: 3px solid transparent;
        }
        
        .tab:hover {
            background: rgba(255, 255, 255, 0.15);
        }
        
        .tab.active {
            background: rgba(255, 255, 255, 0.2);
            border-bottom: 3px solid #4FC3F7;
        }
        
        .tab-content {
            display: none;
            padding: 30px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 0 0 15px 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 40px;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        @media (max-width: 768px) {
            .content {
                grid-template-columns: 1fr;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                min-width: 100%;
            }
        }
        
        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .card h2 {
            margin-bottom: 15px;
            font-size: 1.8rem;
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
            padding-bottom: 10px;
        }
        
        .card h3 {
            margin: 20px 0 10px 0;
            color: #4FC3F7;
        }
        
        .card p {
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .interactive-area {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .canvas-container {
            width: 100%;
            height: 400px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        canvas {
            width: 100%;
            height: 100%;
            display: block;
        }
        
        .controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            width: 100%;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
        }
        
        label {
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        input[type="range"] {
            width: 100%;
        }
        
        .value-display {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
        }
        
        .quiz-section {
            margin-top: 40px;
        }
        
        .question {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        
        .question h3 {
            margin-bottom: 15px;
            color: #69F0AE;
        }
        
        .options {
            display: grid;
            gap: 10px;
        }
        
        .option {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .option:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }
        
        .option.selected {
            border-color: #4FC3F7;
            background: rgba(79, 195, 247, 0.2);
        }
        
        .option.correct {
            border-color: #69F0AE;
            background: rgba(105, 240, 174, 0.2);
        }
        
        .option.incorrect {
            border-color: #FF5252;
            background: rgba(255, 82, 82, 0.2);
        }
        
        .feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }
        
        .feedback.correct {
            background: rgba(105, 240, 174, 0.2);
            border: 1px solid #69F0AE;
            display: block;
        }
        
        .feedback.incorrect {
            background: rgba(255, 82, 82, 0.2);
            border: 1px solid #FF5252;
            display: block;
        }
        
        .quiz-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .score-display {
            text-align: center;
            font-size: 1.2rem;
            margin: 20px 0;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }
        
        .examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .example-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            transition: transform 0.3s ease;
        }
        
        .example-card:hover {
            transform: translateY(-5px);
        }
        
        .example-card h3 {
            margin-bottom: 10px;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .equation {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: 'Cambria Math', serif;
            text-align: center;
        }
        
        button {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s ease;
            margin-top: 10px;
        }
        
        button:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Estilos para el cuestionario de Verdadero/Falso */
        .true-false-options {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }
        
        .true-false-option {
            flex: 1;
            text-align: center;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            background: rgba(255, 255, 255, 0.1);
        }
        
        .true-false-option:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .true-false-option.selected {
            border-color: #4FC3F7;
            background: rgba(79, 195, 247, 0.2);
        }
        
        .true-false-option.correct {
            border-color: #69F0AE;
            background: rgba(105, 240, 174, 0.2);
        }
        
        .true-false-option.incorrect {
            border-color: #FF5252;
            background: rgba(255, 82, 82, 0.2);
        }

        /* Estilos para los ejercicios de GeoGebra */
        .geogebra-exercises {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        
        .geogebra-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        .geogebra-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.3);
        }
        
        .geogebra-card h3 {
            color: #FFD54F;
            margin-bottom: 15px;
            font-size: 1.4rem;
        }
        
        .geogebra-card p {
            flex-grow: 1;
            margin-bottom: 15px;
        }
        
        .geogebra-iframe-container {
            width: 100%;
            height: 300px;
            border-radius: 8px;
            overflow: hidden;
            margin-top: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .geogebra-iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .geogebra-link {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            padding: 10px 15px;
            border-radius: 5px;
            margin-top: 10px;
            transition: background 0.3s ease;
            text-align: center;
        }
        
        .geogebra-link:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .instructions {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #4FC3F7;
        }
        
        .instructions h4 {
            color: #4FC3F7;
            margin-bottom: 8px;
        }
        
        /* Estilos para la sección de aplicaciones */
        .applications-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .application-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            transition: transform 0.3s ease;
        }
        
        .application-card:hover {
            transform: translateY(-5px);
        }
        
        .application-card h3 {
            color: #69F0AE;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>La Elipse</h1>
            <p class="subtitle">Una exploración interactiva de sus propiedades matemáticas</p>
        </header>
        
        <!-- Sistema de Pestañas -->
        <div class="tabs">
            <div class="tab active" data-tab="conceptos">Conceptos Básicos</div>
            <div class="tab" data-tab="interactiva">Elipse Interactiva</div>
            <div class="tab" data-tab="cuestionario">Cuestionario</div>
            <div class="tab" data-tab="verdadero-falso">Verdadero/Falso</div>
            <div class="tab" data-tab="geogebra">Ejercicios GeoGebra</div>
            <div class="tab" data-tab="aplicaciones">Aplicaciones</div>
        </div>
        
        <!-- Contenido de Pestaña: Conceptos Básicos -->
        <div class="tab-content active" id="conceptos">
            <div class="content">
                <div class="card">
                    <h2>¿Qué es una Elipse?</h2>
                    <p>Una elipse es una curva cerrada y plana, que se define como el lugar geométrico de todos los puntos del plano cuya suma de distancias a dos puntos fijos, llamados focos, es constante.</p>
                    
                    <div class="equation">
                        <p>Ecuación canónica de la elipse:</p>
                        <p>$$\frac{x^2}{a^2} + \frac{y^2}{b^2} = 1$$</p>
                    </div>
                    
                    <h3>Elementos de la Elipse</h3>
                    <p><strong>Focos (F1, F2):</strong> Los dos puntos fijos que definen la elipse.</p>
                    <p><strong>Eje Mayor:</strong> El diámetro más largo de la elipse (longitud 2a).</p>
                    <p><strong>Eje Menor:</strong> El diámetro más corto de la elipse (longitud 2b).</p>
                    <p><strong>Distancia Focal (2c):</strong> La distancia entre los dos focos.</p>
                    <p><strong>Excentricidad (e):</strong> Medida de qué tan "alargada" es la elipse (e = c/a).</p>
                    
                    <div class="equation">
                        <p>Relación fundamental: $$c^2 = a^2 - b^2$$</p>
                    </div>
                </div>
                
                <div class="card">
                    <h2>Propiedades de la Elipse</h2>
                    <h3>Propiedad Focal</h3>
                    <p>La suma de las distancias desde cualquier punto de la elipse a los dos focos es constante e igual a la longitud del eje mayor (2a).</p>
                    
                    <h3>Excentricidad</h3>
                    <p>La excentricidad (e) determina la forma de la elipse:</p>
                    <ul>
                        <li>Si e = 0, la elipse es una circunferencia</li>
                        <li>Si e se acerca a 0, la elipse es casi circular</li>
                        <li>Si e se acerca a 1, la elipse es muy alargada</li>
                    </ul>
                    
                    <h3>Propiedad Reflectora</h3>
                    <p>Un rayo que emana de uno de los focos se refleja en la elipse y pasa por el otro foco. Esta propiedad tiene aplicaciones en óptica y acústica.</p>
                    
                    <div class="equation">
                        <p>Área de la elipse: $$A = \pi \cdot a \cdot b$$</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Contenido de Pestaña: Elipse Interactiva -->
        <div class="tab-content" id="interactiva">
            <div class="card interactive-area">
                <h2>Elipse Interactiva</h2>
                <p>Utiliza los controles deslizantes para modificar los parámetros de la elipse y observar cómo cambian sus propiedades.</p>
                
                <div class="canvas-container">
                    <canvas id="ellipseCanvas"></canvas>
                </div>
                
                <div class="controls">
                    <div class="control-group">
                        <label for="aSlider">Semieje mayor (a):</label>
                        <input type="range" id="aSlider" min="50" max="200" value="150">
                        <div class="value-display">
                            <span>50</span>
                            <span id="aValue">150</span>
                            <span>200</span>
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <label for="bSlider">Semieje menor (b):</label>
                        <input type="range" id="bSlider" min="50" max="200" value="100">
                        <div class="value-display">
                            <span>50</span>
                            <span id="bValue">100</span>
                            <span>200</span>
                        </div>
                    </div>
                </div>
                
                <div class="controls">
                    <div class="control-group">
                        <label for="rotationSlider">Rotación (grados):</label>
                        <input type="range" id="rotationSlider" min="0" max="180" value="0">
                        <div class="value-display">
                            <span>0°</span>
                            <span id="rotationValue">0°</span>
                            <span>180°</span>
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <label>Propiedades calculadas:</label>
                        <div id="properties">
                            <p>Distancia focal (c): <span id="cValue">111.80</span></p>
                            <p>Excentricidad (e): <span id="eValue">0.75</span></p>
                            <p>Perímetro aproximado: <span id="perimeterValue">791.68</span></p>
                        </div>
                    </div>
                </div>
                
                <button id="resetButton">Restablecer valores</button>
            </div>
        </div>
        
        <!-- Contenido de Pestaña: Cuestionario -->
        <div class="tab-content" id="cuestionario">
            <div class="card quiz-section">
                <h2>Cuestionario sobre la Elipse</h2>
                <p>Pon a prueba tus conocimientos sobre las elipses. Selecciona la respuesta correcta para cada pregunta.</p>
                
                <div class="score-display">
                    Puntuación: <span id="score">0</span>/<span id="totalQuestions">5</span>
                </div>

                <div class="question" id="question1">
                    <h3>1. ¿Cuál es la definición geométrica correcta de una elipse?</h3>
                    <div class="options">
                        <div class="option" data-correct="false">A) Es el conjunto de puntos equidistantes de un punto fijo llamado centro</div>
                        <div class="option" data-correct="true">B) Es el lugar geométrico de puntos cuya suma de distancias a dos puntos fijos (focos) es constante</div>
                        <div class="option" data-correct="false">C) Es una curva definida por la ecuación y = ax² + bx + c</div>
                        <div class="option" data-correct="false">D) Es el conjunto de puntos que están a igual distancia de una recta fija y un punto fijo</div>
                    </div>
                    <div class="feedback"></div>
                </div>

                <div class="question" id="question2">
                    <h3>2. En la ecuación de la elipse $$\frac{x^2}{a^2} + \frac{y^2}{b^2} = 1$$, ¿qué representan a y b?</h3>
                    <div class="options">
                        <div class="option" data-correct="false">A) Las coordenadas de los focos</div>
                        <div class="option" data-correct="false">B) Las distancias desde el centro a los vértices en el eje Y</div>
                        <div class="option" data-correct="true">C) Los semiejes mayor y menor de la elipse</div>
                        <div class="option" data-correct="false">D) Los radios de dos circunferencias concéntricas</div>
                    </div>
                    <div class="feedback"></div>
                </div>

                <div class="question" id="question3">
                    <h3>3. ¿Cómo se calcula la distancia focal (c) de una elipse?</h3>
                    <div class="options">
                        <div class="option" data-correct="false">A) c = a + b</div>
                        <div class="option" data-correct="false">B) c = a × b</div>
                        <div class="option" data-correct="false">C) c = √(a² + b²)</div>
                        <div class="option" data-correct="true">D) c = √(a² - b²)</div>
                    </div>
                    <div class="feedback"></div>
                </div>

                <div class="question" id="question4">
                    <h3>4. ¿Qué valor puede tomar la excentricidad (e) de una elipse?</h3>
                    <div class="options">
                        <div class="option" data-correct="false">A) Cualquier número real positivo</div>
                        <div class="option" data-correct="false">B) Entre -1 y 1</div>
                        <div class="option" data-correct="true">C) Entre 0 y 1</div>
                        <div class="option" data-correct="false">D) Exactamente 1</div>
                    </div>
                    <div class="feedback"></div>
                </div>

                <div class="question" id="question5">
                    <h3>5. Según las Leyes de Kepler, las órbitas de los planetas alrededor del Sol son:</h3>
                    <div class="options">
                        <div class="option" data-correct="false">A) Circunferencias perfectas</div>
                        <div class="option" data-correct="true">B) Elipses con el Sol en uno de los focos</div>
                        <div class="option" data-correct="false">C) Parábolas</div>
                        <div class="option" data-correct="false">D) Espirales logarítmicas</div>
                    </div>
                    <div class="feedback"></div>
                </div>

                <div class="quiz-controls">
                    <button id="checkAnswers">Verificar Respuestas</button>
                    <button id="resetQuiz">Reiniciar Cuestionario</button>
                </div>
            </div>
        </div>
        
        <!-- Contenido de Pestaña: Verdadero/Falso -->
        <div class="tab-content" id="verdadero-falso">
            <div class="card quiz-section">
                <h2>Cuestionario de Verdadero/Falso</h2>
                <p>Indica si las siguientes afirmaciones sobre las elipses son verdaderas o falsas.</p>
                
                <div class="score-display">
                    Puntuación V/F: <span id="tfScore">0</span>/<span id="tfTotalQuestions">5</span>
                </div>

                <div class="question" id="tfQuestion1">
                    <h3>1. Una elipse con excentricidad igual a 0 es una circunferencia.</h3>
                    <div class="true-false-options">
                        <div class="true-false-option" data-value="true">Verdadero</div>
                        <div class="true-false-option" data-value="false">Falso</div>
                    </div>
                    <div class="feedback"></div>
                </div>

                <div class="question" id="tfQuestion2">
                    <h3>2. La suma de las distancias desde cualquier punto de la elipse a los dos focos es igual a la longitud del eje mayor.</h3>
                    <div class="true-false-options">
                        <div class="true-false-option" data-value="true">Verdadero</div>
                        <div class="true-false-option" data-value="false">Falso</div>
                    </div>
                    <div class="feedback"></div>
                </div>

                <div class="question" id="tfQuestion3">
                    <h3>3. En una elipse, la distancia focal siempre es mayor que el semieje mayor.</h3>
                    <div class="true-false-options">
                        <div class="true-false-option" data-value="true">Verdadero</div>
                        <div class="true-false-option" data-value="false">Falso</div>
                    </div>
                    <div class="feedback"></div>
                </div>

                <div class="question" id="tfQuestion4">
                    <h3>4. La ecuación $$\frac{x^2}{a^2} + \frac{y^2}{b^2} = 1$$ siempre representa una elipse, sin importar los valores de a y b.</h3>
                    <div class="true-false-options">
                        <div class="true-false-option" data-value="true">Verdadero</div>
                        <div class="true-false-option" data-value="false">Falso</div>
                    </div>
                    <div class="feedback"></div>
                </div>

                <div class="question" id="tfQuestion5">
                    <h3>5. La excentricidad de una elipse puede ser mayor que 1.</h3>
                    <div class="true-false-options">
                        <div class="true-false-option" data-value="true">Verdadero</div>
                        <div class="true-false-option" data-value="false">Falso</div>
                    </div>
                    <div class="feedback"></div>
                </div>

                <div class="quiz-controls">
                    <button id="checkTFAnswers">Verificar Respuestas V/F</button>
                    <button id="resetTFQuiz">Reiniciar Cuestionario V/F</button>
                </div>
            </div>
        </div>
        
        <!-- Contenido de Pestaña: Ejercicios GeoGebra -->
        <div class="tab-content" id="geogebra">
            <div class="card">
                <h2>Ejercicios Interactivos de GeoGebra</h2>
                <p>Explora las propiedades de la elipse con estos ejercicios interactivos de GeoGebra. Puedes manipular los parámetros y observar cómo cambia la forma de la elipse.</p>
                
                <div class="instructions">
                    <h4>Instrucciones:</h4>
                    <p>Haz clic en los enlaces para abrir los ejercicios en GeoGebra. Una vez allí, puedes interactuar con los deslizadores y puntos para explorar las propiedades de la elipse.</p>
                </div>
                
                <div class="geogebra-exercises">
                    <div class="geogebra-card">
                        <h3>1. Construcción de una Elipse</h3>
                        <p>Construye una elipse utilizando su definición como lugar geométrico. Arrastra el punto P y observa cómo se mantiene constante la suma de distancias a los focos.</p>
                        <div class="geogebra-iframe-container">
                            <iframe class="geogebra-iframe" 
                                    src="https://www.geogebra.org/classic/mqebnqpt?embed"
                                    allowfullscreen></iframe>
                        </div>
                        <a href="https://www.geogebra.org/classic/mqebnqpt" target="_blank" class="geogebra-link">Abrir en GeoGebra</a>
                    </div>
                    
                    <div class="geogebra-card">
                        <h3>2. Elementos de la Elipse</h3>
                        <p>Identifica y explora los diferentes elementos de una elipse: focos, vértices, ejes mayor y menor, centro y distancia focal.</p>
                        <div class="geogebra-iframe-container">
                            <iframe class="geogebra-iframe" 
                                    src="https://www.geogebra.org/classic/ngqj6h2t?embed"
                                    allowfullscreen></iframe>
                        </div>
                        <a href="https://www.geogebra.org/classic/ngqj6h2t" target="_blank" class="geogebra-link">Abrir en GeoGebra</a>
                    </div>
                    
                    <div class="geogebra-card">
                        <h3>3. Excentricidad de la Elipse</h3>
                        <p>Modifica la excentricidad de la elipse y observa cómo cambia su forma. Comprueba que cuando la excentricidad es 0, la elipse se convierte en una circunferencia.</p>
                        <div class="geogebra-iframe-container">
                            <iframe class="geogebra-iframe" 
                                    src="https://www.geogebra.org/classic/ezxq7x3s?embed"
                                    allowfullscreen></iframe>
                        </div>
                        <a href="https://www.geogebra.org/classic/ezxq7x3s" target="_blank" class="geogebra-link">Abrir en GeoGebra</a>
                    </div>
                    
                    <div class="geogebra-card">
                        <h3>4. Ecuación de la Elipse</h3>
                        <p>Explora cómo cambia la ecuación de la elipse cuando modificas los valores de a y b. Observa la relación entre la ecuación y la forma de la elipse.</p>
                        <div class="geogebra-iframe-container">
                            <iframe class="geogebra-iframe" 
                                    src="https://www.geogebra.org/classic/ahqutp2k?embed"
                                    allowfullscreen></iframe>
                        </div>
                        <a href="https://www.geogebra.org/classic/ahqutp2k" target="_blank" class="geogebra-link">Abrir en GeoGebra</a>
                    </div>
                    
                    <div class="geogebra-card">
                        <h3>5. Propiedad Reflectora</h3>
                        <p>Investiga la propiedad reflectora de la elipse: cualquier rayo que sale de un foco se refleja hacia el otro foco. Esta propiedad tiene aplicaciones en óptica y acústica.</p>
                        <div class="geogebra-iframe-container">
                            <iframe class="geogebra-iframe" 
                                    src="https://www.geogebra.org/classic/fdwydn5g?embed"
                                    allowfullscreen></iframe>
                        </div>
                        <a href="https://www.geogebra.org/classic/fdwydn5g" target="_blank" class="geogebra-link">Abrir en GeoGebra</a>
                    </div>
                    
                    <div class="geogebra-card">
                        <h3>6. Elipses Rotadas</h3>
                        <p>Estudia elipses que no están alineadas con los ejes coordenados. Modifica el ángulo de rotación y observa cómo cambia la ecuación de la elipse.</p>
                        <div class="geogebra-iframe-container">
                            <iframe class="geogebra-iframe" 
                                    src="https://www.geogebra.org/classic/rmm6c9xv?embed"
                                    allowfullscreen></iframe>
                        </div>
                        <a href="https://www.geogebra.org/classic/rmm6c9xv" target="_blank" class="geogebra-link">Abrir en GeoGebra</a>
                    </div>
                </div>
                
                <div class="instructions">
                    <h4>Actividades sugeridas:</h4>
                    <ul>
                        <li>En el ejercicio 1, arrastra el punto P y verifica que PF1 + PF2 es constante</li>
                        <li>En el ejercicio 3, modifica la excentricidad y observa cómo cambia la forma de la elipse</li>
                        <li>En el ejercicio 5, mueve el punto de incidencia del rayo y observa cómo siempre se refleja hacia el otro foco</li>
                        <li>En el ejercicio 6, rota la elipse y observa cómo cambia su ecuación</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- Contenido de Pestaña: Aplicaciones -->
        <div class="tab-content" id="aplicaciones">
            <div class="card">
                <h2>Aplicaciones de la Elipse</h2>
                <p>La elipse no es solo una figura geométrica abstracta, sino que tiene numerosas aplicaciones en diferentes campos de la ciencia, la ingeniería y la vida cotidiana.</p>
                
                <div class="applications-grid">
                    <div class="application-card">
                        <h3>Astronomía</h3>
                        <p>Las órbitas de los planetas alrededor del Sol son elípticas, con el Sol en uno de los focos (Primera Ley de Kepler). Esta propiedad es fundamental para comprender el movimiento planetario.</p>
                    </div>
                    
                    <div class="application-card">
                        <h3>Ingeniería y Arquitectura</h3>
                        <p>En arquitectura, las elipses se utilizan en arcos, cúpulas y diseños estructurales. En ingeniería, se emplean en el diseño de engranajes elípticos y en óptica para antenas y reflectores.</p>
                    </div>
                    
                    <div class="application-card">
                        <h3>Óptica</h3>
                        <p>Los espejos elípticos reflejan la luz de un foco al otro, propiedad utilizada en telescopios, microscopios y sistemas de iluminación como los faros de los automóviles.</p>
                    </div>
                    
                    <div class="application-card">
                        <h3>Medicina</h3>
                        <p>En litotricia, se utilizan ondas de choque generadas en un foco de una elipse para desintegrar cálculos renales. El paciente se coloca de manera que el cálculo esté en el otro foco.</p>
                    </div>
                    
                    <div class="application-card">
                        <h3>Acústica</h3>
                        <p>Las galerías de susurros utilizan la propiedad reflectora de la elipse. Un sonido producido en un foco puede escucharse claramente en el otro foco, incluso a grandes distancias.</p>
                    </div>
                    
                    <div class="application-card">
                        <h3>Diseño Industrial</h3>
                        <p>Las formas elípticas se utilizan en el diseño de productos por sus propiedades estéticas y ergonómicas, como en mesas, platos, y diversos objetos de uso cotidiano.</p>
                    </div>
                </div>
                
                <div class="instructions">
                    <h4>Curiosidad histórica:</h4>
                    <p>Las elipses fueron estudiadas por primera vez por Menaechmus en la Antigua Grecia, pero fue Kepler quien descubrió su importancia en las órbitas planetarias en el siglo XVII.</p>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Página interactiva sobre la elipse - Proyecto educativo con pestañas organizadas</p>
        </footer>
    </div>

    <script>
        // Configuración del canvas
        const canvas = document.getElementById('ellipseCanvas');
        const ctx = canvas.getContext('2d');
        
        // Elementos de la interfaz
        const aSlider = document.getElementById('aSlider');
        const bSlider = document.getElementById('bSlider');
        const rotationSlider = document.getElementById('rotationSlider');
        const aValue = document.getElementById('aValue');
        const bValue = document.getElementById('bValue');
        const rotationValue = document.getElementById('rotationValue');
        const cValue = document.getElementById('cValue');
        const eValue = document.getElementById('eValue');
        const perimeterValue = document.getElementById('perimeterValue');
        const resetButton = document.getElementById('resetButton');
        
        // Elementos del cuestionario
        const checkAnswersBtn = document.getElementById('checkAnswers');
        const resetQuizBtn = document.getElementById('resetQuiz');
        const scoreDisplay = document.getElementById('score');
        const totalQuestionsDisplay = document.getElementById('totalQuestions');
        
        // Elementos del cuestionario V/F
        const checkTFAnswersBtn = document.getElementById('checkTFAnswers');
        const resetTFQuizBtn = document.getElementById('resetTFQuiz');
        const tfScoreDisplay = document.getElementById('tfScore');
        const tfTotalQuestionsDisplay = document.getElementById('tfTotalQuestions');
        
        // Valores iniciales
        let a = 150;
        let b = 100;
        let rotation = 0;
        let score = 0;
        const totalQuestions = 5;
        let tfScore = 0;
        const tfTotalQuestions = 5;
        
        // Sistema de pestañas
        function initializeTabs() {
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.getAttribute('data-tab');
                    
                    // Remover clase active de todas las pestañas y contenidos
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(content => content.classList.remove('active'));
                    
                    // Agregar clase active a la pestaña y contenido seleccionados
                    tab.classList.add('active');
                    document.getElementById(tabId).classList.add('active');
                    
                    // Redibujar el canvas si estamos en la pestaña interactiva
                    if (tabId === 'interactiva') {
                        resizeCanvas();
                    }
                });
            });
        }
        
        // Inicializar cuestionarios
        function initializeQuiz() {
            totalQuestionsDisplay.textContent = totalQuestions;
            scoreDisplay.textContent = '0';
            
            // Agregar event listeners a las opciones del primer cuestionario
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                });
            });
            
            checkAnswersBtn.addEventListener('click', checkAnswers);
            resetQuizBtn.addEventListener('click', resetQuiz);
            
            // Inicializar cuestionario V/F
            tfTotalQuestionsDisplay.textContent = tfTotalQuestions;
            tfScoreDisplay.textContent = '0';
            
            // Agregar event listeners a las opciones V/F
            document.querySelectorAll('.true-false-option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    question.querySelectorAll('.true-false-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                });
            });
            
            checkTFAnswersBtn.addEventListener('click', checkTFAnswers);
            resetTFQuizBtn.addEventListener('click', resetTFQuiz);
        }
        
        // Verificar respuestas del primer cuestionario
        function checkAnswers() {
            let newScore = 0;
            document.querySelectorAll('.question:not(.true-false-question)').forEach(question => {
                const selectedOption = question.querySelector('.option.selected');
                const feedback = question.querySelector('.feedback');
                
                if (selectedOption) {
                    const isCorrect = selectedOption.getAttribute('data-correct') === 'true';
                    
                    // Remover clases previas
                    selectedOption.classList.remove('correct', 'incorrect');
                    feedback.classList.remove('correct', 'incorrect');
                    
                    if (isCorrect) {
                        selectedOption.classList.add('correct');
                        feedback.textContent = '¡Correcto! ' + getExplanation(question.id);
                        feedback.classList.add('correct');
                        newScore++;
                    } else {
                        selectedOption.classList.add('incorrect');
                        feedback.textContent = 'Incorrecto. ' + getExplanation(question.id);
                        feedback.classList.add('incorrect');
                        
                        // Mostrar la respuesta correcta
                        const correctOption = question.querySelector('.option[data-correct="true"]');
                        correctOption.classList.add('correct');
                    }
                } else {
                    const feedback = question.querySelector('.feedback');
                    feedback.textContent = 'Por favor selecciona una respuesta.';
                    feedback.classList.add('incorrect');
                    feedback.style.display = 'block';
                }
            });
            
            score = newScore;
            scoreDisplay.textContent = score;
            
            // Deshabilitar el botón después de verificar
            checkAnswersBtn.disabled = true;
        }
        
        // Verificar respuestas del cuestionario V/F
        function checkTFAnswers() {
            let newTFScore = 0;
            
            // Respuestas correctas para las preguntas V/F
            const correctAnswers = {
                'tfQuestion1': 'true',
                'tfQuestion2': 'true',
                'tfQuestion3': 'false',
                'tfQuestion4': 'false',
                'tfQuestion5': 'false'
            };
            
            // Explicaciones para las preguntas V/F
            const tfExplanations = {
                'tfQuestion1': 'Correcto. Cuando la excentricidad es 0, los dos focos coinciden en el centro y la elipse se convierte en una circunferencia.',
                'tfQuestion2': 'Correcto. Esta es precisamente la propiedad que define la elipse: la suma de distancias a los focos es constante e igual a la longitud del eje mayor (2a).',
                'tfQuestion3': 'Incorrecto. La distancia focal (c) siempre es menor que el semieje mayor (a), ya que c² = a² - b².',
                'tfQuestion4': 'Incorrecto. La ecuación representa una elipse solo cuando a y b son números reales positivos. Si alguno es cero o negativo, no representa una elipse.',
                'tfQuestion5': 'Incorrecto. La excentricidad de una elipse siempre está entre 0 y 1. Si es mayor que 1, representa una hipérbola.'
            };
            
            document.querySelectorAll('.question').forEach(question => {
                if (question.id.startsWith('tfQuestion')) {
                    const selectedOption = question.querySelector('.true-false-option.selected');
                    const feedback = question.querySelector('.feedback');
                    
                    if (selectedOption) {
                        const userAnswer = selectedOption.getAttribute('data-value');
                        const isCorrect = userAnswer === correctAnswers[question.id];
                        
                        // Remover clases previas
                        selectedOption.classList.remove('correct', 'incorrect');
                        feedback.classList.remove('correct', 'incorrect');
                        
                        if (isCorrect) {
                            selectedOption.classList.add('correct');
                            feedback.textContent = tfExplanations[question.id];
                            feedback.classList.add('correct');
                            newTFScore++;
                        } else {
                            selectedOption.classList.add('incorrect');
                            feedback.textContent = tfExplanations[question.id];
                            feedback.classList.add('incorrect');
                            
                            // Mostrar la respuesta correcta
                            const correctOption = question.querySelector(`.true-false-option[data-value="${correctAnswers[question.id]}"]`);
                            correctOption.classList.add('correct');
                        }
                    } else {
                        const feedback = question.querySelector('.feedback');
                        feedback.textContent = 'Por favor selecciona una respuesta.';
                        feedback.classList.add('incorrect');
                        feedback.style.display = 'block';
                    }
                }
            });
            
            tfScore = newTFScore;
            tfScoreDisplay.textContent = tfScore;
            
            // Deshabilitar el botón después de verificar
            checkTFAnswersBtn.disabled = true;
        }
        
        // Obtener explicación para cada pregunta del primer cuestionario
        function getExplanation(questionId) {
            const explanations = {
                'question1': 'La definición correcta establece que una elipse es el conjunto de puntos donde la suma de distancias a dos puntos fijos (focos) es constante.',
                'question2': 'En la ecuación canónica, a representa el semieje mayor y b el semieje menor de la elipse.',
                'question3': 'La distancia focal se calcula usando el teorema de Pitágoras: c² = a² - b², por lo tanto c = √(a² - b²).',
                'question4': 'La excentricidad de una elipse siempre está entre 0 (círculo) y 1 (elipse muy alargada).',
                'question5': 'La Primera Ley de Kepler establece que los planetas se mueven en órbitas elípticas con el Sol en uno de los focos.'
            };
            return explanations[questionId] || '';
        }
        
        // Reiniciar primer cuestionario
        function resetQuiz() {
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
            });
            
            document.querySelectorAll('.feedback').forEach(feedback => {
                feedback.classList.remove('correct', 'incorrect');
                feedback.style.display = 'none';
                feedback.textContent = '';
            });
            
            score = 0;
            scoreDisplay.textContent = '0';
            checkAnswersBtn.disabled = false;
        }
        
        // Reiniciar cuestionario V/F
        function resetTFQuiz() {
            document.querySelectorAll('.true-false-option').forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
            });
            
            document.querySelectorAll('.feedback').forEach(feedback => {
                feedback.classList.remove('correct', 'incorrect');
                feedback.style.display = 'none';
                feedback.textContent = '';
            });
            
            tfScore = 0;
            tfScoreDisplay.textContent = '0';
            checkTFAnswersBtn.disabled = false;
        }
        
        // Ajustar tamaño del canvas
        function resizeCanvas() {
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            drawEllipse();
        }
        
        // Calcular perímetro aproximado de la elipse (fórmula de Ramanujan)
        function calculatePerimeter(a, b) {
            const h = Math.pow((a - b) / (a + b), 2);
            return Math.PI * (a + b) * (1 + (3 * h) / (10 + Math.sqrt(4 - 3 * h)));
        }
        
        // Dibujar la elipse
        function drawEllipse() {
            const width = canvas.width;
            const height = canvas.height;
            const centerX = width / 2;
            const centerY = height / 2;
            
            // Limpiar canvas
            ctx.clearRect(0, 0, width, height);
            
            // Dibujar ejes coordenados
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, centerY);
            ctx.lineTo(width, centerY);
            ctx.moveTo(centerX, 0);
            ctx.lineTo(centerX, height);
            ctx.stroke();
            
            // Calcular distancia focal y excentricidad
            const c = Math.sqrt(Math.abs(a*a - b*b));
            const eccentricity = c / Math.max(a, b);
            const perimeter = calculatePerimeter(a, b);
            
            // Actualizar valores en la interfaz
            cValue.textContent = c.toFixed(2);
            eValue.textContent = eccentricity.toFixed(2);
            perimeterValue.textContent = perimeter.toFixed(2);
            
            // Calcular posición de los focos
            let focus1X, focus1Y, focus2X, focus2Y;
            
            if (a >= b) {
                // Elipse horizontal
                focus1X = centerX - c;
                focus1Y = centerY;
                focus2X = centerX + c;
                focus2Y = centerY;
            } else {
                // Elipse vertical
                focus1X = centerX;
                focus1Y = centerY - c;
                focus2X = centerX;
                focus2Y = centerY + c;
            }
            
            // Dibujar la elipse
            ctx.save();
            ctx.translate(centerX, centerY);
            ctx.rotate(rotation * Math.PI / 180);
            
            ctx.strokeStyle = '#4FC3F7';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.ellipse(0, 0, a, b, 0, 0, 2 * Math.PI);
            ctx.stroke();
            
            // Dibujar ejes de la elipse
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.5)';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(-a, 0);
            ctx.lineTo(a, 0);
            ctx.moveTo(0, -b);
            ctx.lineTo(0, b);
            ctx.stroke();
            
            ctx.restore();
            
            // Dibujar focos
            ctx.fillStyle = '#FF5252';
            ctx.beginPath();
            ctx.arc(focus1X, focus1Y, 5, 0, 2 * Math.PI);
            ctx.fill();
            
            ctx.beginPath();
            ctx.arc(focus2X, focus2Y, 5, 0, 2 * Math.PI);
            ctx.fill();
            
            // Etiquetar focos
            ctx.fillStyle = 'white';
            ctx.font = '12px Arial';
            ctx.fillText('F1', focus1X - 15, focus1Y - 10);
            ctx.fillText('F2', focus2X + 5, focus2Y - 10);
            
            // Dibujar un punto en la elipse y líneas a los focos
            const pointAngle = 0.7; // Ángulo para el punto de ejemplo
            let pointX, pointY;
            
            if (a >= b) {
                pointX = centerX + a * Math.cos(pointAngle);
                pointY = centerY + b * Math.sin(pointAngle);
            } else {
                pointX = centerX + b * Math.cos(pointAngle);
                pointY = centerY + a * Math.sin(pointAngle);
            }
            
            // Aplicar rotación al punto
            const cosR = Math.cos(rotation * Math.PI / 180);
            const sinR = Math.sin(rotation * Math.PI / 180);
            const rotatedX = centerX + (pointX - centerX) * cosR - (pointY - centerY) * sinR;
            const rotatedY = centerY + (pointX - centerX) * sinR + (pointY - centerY) * cosR;
            
            // Dibujar líneas desde el punto a los focos
            ctx.strokeStyle = '#69F0AE';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(rotatedX, rotatedY);
            ctx.lineTo(focus1X, focus1Y);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.moveTo(rotatedX, rotatedY);
            ctx.lineTo(focus2X, focus2Y);
            ctx.stroke();
            
            // Dibujar el punto
            ctx.fillStyle = '#69F0AE';
            ctx.beginPath();
            ctx.arc(rotatedX, rotatedY, 5, 0, 2 * Math.PI);
            ctx.fill();
        }
        
        // Event listeners para los controles
        aSlider.addEventListener('input', function() {
            a = parseInt(this.value);
            aValue.textContent = a;
            drawEllipse();
        });
        
        bSlider.addEventListener('input', function() {
            b = parseInt(this.value);
            bValue.textContent = b;
            drawEllipse();
        });
        
        rotationSlider.addEventListener('input', function() {
            rotation = parseInt(this.value);
            rotationValue.textContent = rotation + '°';
            drawEllipse();
        });
        
        resetButton.addEventListener('click', function() {
            aSlider.value = 150;
            bSlider.value = 100;
            rotationSlider.value = 0;
            a = 150;
            b = 100;
            rotation = 0;
            aValue.textContent = '150';
            bValue.textContent = '100';
            rotationValue.textContent = '0°';
            drawEllipse();
        });
        
        // Inicializar
        window.addEventListener('resize', resizeCanvas);
        initializeTabs();
        resizeCanvas();
        initializeQuiz();
    </script>
</body>
</html>